/* ---------------------------
   Global reset & font fallback
   --------------------------- */
/* 1) prevenire ridimensionamenti strani su iOS */
html, body {
  -webkit-text-size-adjust: 100%; /* evita riduzioni automatiche su Safari iOS */
  text-size-adjust: 100%;
}

/* 2) base solida: applica il font-size sul root (html) */
html {
  font-size: clamp(20px, 5vw, 26px); /* fornisce un riferimento uniforme per rem/em */
}

/* 3) fallback coerente: fatti ereditare da html */
body {
  font-size: 1rem; /* 1rem ora corrisponde a html font-size */
  line-height: 1.6;
}

/* 4) default per i testi (ereditano) */
p, li, span, label, input, textarea, dd {
  font-size: inherit;
}

/* 5) navbar e link (per sicurezza) */
.navbar-nav .nav-link {
  font-size: clamp(18px, 4.5vw, 22px);
}
#titoloNavbar { font-size: clamp(20px, 4.5vw, 28px); }

/* Font: Trajan Pro se disponibile, altrimenti fallback serif */
* {
  font-family: 'Trajan Pro', "Cinzel", "Playfair Display", serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Variabili colori */
:root {
  --gold: #FFD700;
  --bg-dark: #1C2A44;
  --overlay: rgba(100, 27, 27, 0.8);
}

/* ---------------------------
   Navbar
   --------------------------- */
#navbar {
  background-color: var(--bg-dark); /* base dark */
  position: fixed;
  width: 100%;
  z-index: 100;
  transition: background-color 0.3s ease, backdrop-filter 0.3s ease;
  padding: 0.8rem 1rem; /* più spazio interno per leggibilità */
}

#navbar.scrolled {
  background-color: rgba(28, 42, 68, 0.8); /* leggermente più visibile su mobile */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

#navbar ul li {
  text-align: center;
  margin: 0 0.8rem; /* spazio tra le voci */
}

/* Link base (con underline animata) */
.navbar-nav .nav-link {
  color: var(--gold);
  font-weight: 500;
  position: relative;   /* serve per posizionare la linea */
  text-decoration: none;
  transition: color 0.3s ease;
  font-size: clamp(18px, 4vw, 22px);
}

/* Creiamo la linea invisibile di base */
.navbar-nav .nav-link::after {
  content: "";
  position: absolute;
  bottom: 0px;          /* distanza dal testo */
  left: 0;
  width: 0;              /* parte da 0 */
  height: 2px;           /* spessore linea */
  background-color: var(--gold);
  transition: width 0.6s ease; /* durata animazione */
}

/* Al passaggio del mouse */
.navbar-nav .nav-link:hover::after { width: 100%; }

/* Link attivo (linea bianca) */
.navbar-nav .nav-link.active::after {
  width: 100%;
  background-color: #FFFFFF;
}

/* Hover link */
.navbar-nav .nav-link:hover { color: var(--gold); }

/* Link attivo */
.navbar-nav .nav-link.active {
  color: #FFFFFF !important;
  font-weight: bold;
}

/* Titolo navbar */
#titoloNavbar {
  font-size: clamp(20px, 4vw, 22px);
  color: var(--gold);
}

/* ---------------------------
   Copertine / Heroes / Overlays
   (mantengo gli stessi url background)
   --------------------------- */
#heroes {
  background: url('../images/heroes.jpg') no-repeat center center/cover;
  background-size: cover;
  min-height: 800px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #fff;
}

#heroes .overlay {
  background: var(--overlay);
  padding: 20px 30px;
  border-radius: 12px;
  max-width: 800px;
}

#heroes h2 {
  font-size: 2rem;
  font-weight: bold;
  margin-bottom: 15px;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--gold);
}

#heroes p {
  font-size: 1.5rem;
  line-height: 1.6;
}

/* Titoli e paragrafi fluidi per copertine */
#heroes h2,
#campagna-titolo-container h1,
#heroesGlossario h2 {
  font-size: clamp(24px, 5vw, 36px);
}

#heroes p,
#campagna-titolo-container p,
#heroesGlossario p {
  font-size: clamp(18px, 3vw, 24px);
}

/* ---------------------------
   Sezione Regole
   --------------------------- */
#regole {
  background-color: var(--bg-dark); /* sfondo scuro semi-trasparente */
  border-radius: 15px;
  padding: 1rem;
  max-width: 800px;
  margin: 2rem auto;
  box-shadow: 0 0 20px rgba(0,0,0,0.5);
}

#regole h2 {
  color: var(--gold); /* oro Warhammer */
  text-shadow: 1px 1px 5px #000;
}

/* Lista regole: aumento dimensione su mobile con clamp */
#regole .regole-list li {
  font-size: clamp(20px, 4.5vw, 24px);
  margin-bottom: 1rem;
  line-height: 1.6;
  text-align: left;
  position: relative;
  padding-left: 2rem;
  color: white;
}

#regole .regole-list li::before {
  content: '†'; /* simbolo Warhammerish */
  position: absolute;
  left: 0;
  color: #FFB800;
}

/* ---------------------------
   Overview / Card
   --------------------------- */
#overview .card {
  background-color: var(--bg-dark);
  border-radius: 15px;
  padding: 2rem;
  max-width: 800px;
  margin: 2rem auto;
  box-shadow: 0 0 20px rgba(0,0,0,0.5);
  color: white;
}

#overview .card h2 {
  color: var(--gold);
  text-shadow: 1px 1px 5px #000;
}

#overview h4 { color: var(--gold); }

/* Footer */
#footer {
  background-color: var(--bg-dark);
  color: #ffffff;
}

/* ---------------------------
   Copertina titolo campagna
   (mantengo lo stesso url)
   --------------------------- */
#campagna-titolo-container {
  background: url('../images/divinità.jpg') no-repeat center center/cover;
  min-height: 600px;
  background-position: top;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #fff;
  margin-bottom: 2rem;
}

#campagna-titolo-container .overlay {
  background: var(--overlay);
  padding: 30px 50px;
  border-radius: 12px;
  max-width: 800px;
}

#campagna-titolo-container h1 {
  font-size: 2.5rem;
  font-weight: bold;
  margin-bottom: 15px;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--gold);
}

#campagna-titolo-container p {
  font-size: 2rem;
  line-height: 1.6;
}

/* ---------------------------
   Card sessione
   --------------------------- */
#sessioni-list .card {
  background-color: #ffffff;
  border: transparent;
  color: #000000;
  padding: 1rem;
  border-radius: 0.5rem;
}

#sessioni-list .card-title {
  color: #000000;
  font-size: 1rem;
  font-weight: bold;
}

#sessioni-list .card-text {
  font-size: 1rem;
  line-height: 1.4;
}

/* ---------------------------
   Sezione Master (login)
   --------------------------- */
#login-container button {
  background-color: var(--gold);
  border: 1px solid var(--bg-dark);
}

#login-container button:hover {
  background-color: white;
  border: 1px solid var(--bg-dark);
}

/* ---------------------------
   Fazioni / Glossario
   --------------------------- */
#fazioni {
  background-color: var(--bg-dark);
  display: flex;
  padding-top: 30px;
  padding-bottom: 70px;
  justify-content: center;
  align-items: center;
}

#glossarioTesto {
  padding: 1rem;
  text-align: left;
  font-size: clamp(18px, 3.5vw, 22px);
}

#glossarioTesto h2 {
  text-align: center;
  color: var(--gold);
  text-shadow: 1px 1px 2px #000;
}

#immagineFazioni {
  max-height: 500px;
}

#glossarioTesto h2,
#divinita h2 {
  scroll-margin-top: 70px;
}

/* Glossario copertina (mantengo url) */
#heroesGlossario {
  background: url('../images/xenos.webp') no-repeat center center/cover;
  background-size: cover;
  min-height: 800px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #fff;
}

#heroesGlossario .overlay {
  background: var(--overlay);
  padding: 30px 50px;
  border-radius: 12px;
  max-width: 800px;
}

#heroesGlossario h2 {
  font-size: 2.5rem;
  font-weight: bold;
  margin-bottom: 15px;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--gold);
}

#heroesGlossario p {
  font-size: 2rem;
  line-height: 1.6;
}

/* --- Sezione Muro dei Caduti --- */
#muro-dei-caduti {
  padding: 2rem 1rem;
  text-align: center;
  color: white;
}

#muro-dei-caduti h2 {
  font-size: clamp(22px, 4vw, 28px);
  color: #FFD700;
  margin-bottom: 2rem;
  text-shadow: 1px 1px 3px black;
}

/* Griglia adattabile */
.caduti-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 1rem;
  justify-items: center;
}

/* Card senza bordi né ombre */
.caduto-card {
  width: 100%;
  max-width: 160px;
}

/* Lapide */
.lapide {
  background-image: url("../images/lapide.png");
  background-size: cover;
  background-position: center;
  aspect-ratio: 3 / 4;
  display: flex;
  align-items: flex-start; /* testo in cima */
  justify-content: center;
  padding: 0.5rem;
}

/* Epitaffio con croce + nome */
.epitaffio {
  text-align: center;
  padding-top: 30px;
  font-size: clamp(18px, 3vw, 22px);
  font-weight: bold;
  color: rgb(255, 255, 255);
  text-shadow: 1px 1px 1px black;
  margin-top: 0.3rem;
}

.epitaffio .nome {
  display: block;
  margin-top: 0.2rem;
}

/* Heroes PG */

#heroesPG {
  background: url('../images/chaosPG.jpg') no-repeat center center/cover;
  background-size: cover;
  min-height: 800px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #fff;
}

#heroesPG .overlay {
  background: var(--overlay);
  padding: 30px 50px;
  border-radius: 12px;
  max-width: 800px;
}

#heroesPG h2 {
  font-size: 2.5rem;
  font-weight: bold;
  margin-bottom: 15px;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--gold);
}

#heroesPG p {
  font-size: 2rem;
  line-height: 1.6;
}

/* PG */

#pg-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem; /* spazio tra le card */
  max-width: 1000px;
  margin: 2rem auto; /* centra il contenitore */
  padding: 0 1rem; /* margine interno su mobile */
  justify-items: center; /* centra le card all’interno della griglia */
}

.pg-card {
  background-color: #1C2A44;
  border: 2px solid #FFD700;
  height: fit-content;
  padding: 1rem;
  color: white;
  line-height: 1.5;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  width: 100%; /* per farle occupare tutta la colonna disponibile */
  max-width: 300px; /* larghezza massima della card */
}

.pg-card h3 {
  font-size: clamp(20px, 2.5vw, 24px);
  margin-bottom: 0.5rem;
  color: #FFD700;
}

.pg-card p {
  font-size: clamp(16px, 2.5vw, 18px);
  margin: 0.3rem 0;
}

.pg-backstory {
  background-color: rgba(28, 42, 68, 0.8);
  padding: 0.8rem;
  margin-top: 0.5rem;
  font-size: clamp(14px, 2.5vw, 16px);
  white-space: normal;
  word-wrap: break-word;
  border-left: 3px solid #FFD700;
}

.pg-backstory.clean-backstory {
  background-color: white;
  color: black;
  border-left: none;
  padding: 0.5rem; /* opzionale per leggibilità */
}

/* Hover effetto leggero */
.pg-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 0 15px 3px rgba(255, 215, 0, 0.5);
}

/* Glossario Indice */

#glossarioIndice li a {
    color: #2e446d;
}

#glossarioIndice li a:hover {
    color: #FFD700;
}

/* --- Sezione Termini Centrali (estesa) --- */
#termini-centrali {
  color: rgb(0, 0, 0);
  font-family: 'Trajan Pro', serif;
}

/* griglia bootstrap + our card style */
.termine-card {
  padding: 1.4rem;
  border-radius: 10px;
  box-shadow: 0 0 12px rgba(0,0,0,0.35);
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  min-height: 230px; /* per allineare visivamente le card */
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

#termini-centrali {
    background-color: #1C2A44;
    background-position: center;
    color: white;
    padding: 20px;
}

#termini-centrali h2 {
    color: #FFD700;
    text-shadow: 1px 1px 1px black;
}

.termine-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 30px rgba(255, 215, 0, 0.16);
}

.termine-card h3 {
  color: #FFD700;
text-shadow: 0.5px 0.5px 0.5px black;
  margin-bottom: 0.6rem;
  font-size: clamp(18px, 2.6vw, 22px);
}

.termine-card p {
  font-size: clamp(15px, 2.2vw, 17px);
  line-height: 1.55;
  color: #000000;
  margin: 0;
}

/* mobile: rendi le card più compatte */
@media (max-width: 576px) {
  .termine-card { min-height: auto; padding: 1rem; }
  .termine-card p { font-size: clamp(14px, 3.2vw, 15px); }
}


/* Mobile: griglia più compatta */
@media (max-width: 600px) {
  #pg-cards {
    grid-template-columns: 1fr;
    gap: 0.5rem;
    padding: 0 0.5rem;
  }
}


/* Responsive: su mobile card più strette */
@media (max-width: 600px) {
  .pg-card {
    width: 90%;
  }
}


/* ---------------------------
   Tipografia globale: base e ereditarietà
   (mantengo la tua preferenza per caratteri grandi)
   --------------------------- */
body {
  font-size: clamp(22px, 5vw, 26px);
  line-height: 1.6;
  background: #080808;
  color: #fff;
}

/* Elementi di testo ereditano dal body per coerenza */
p, li, span, label, input, textarea,
#regole .regole-list li,
#glossarioTesto p,
dl dd {
  font-size: inherit;
}

/* Titoli fluidi */
h1, h2, h3, h4 {
  font-size: clamp(28px, 6vw, 40px);
}

/* Safety: evita overflow orizzontale di contenuti troppo grandi */
.container, .overlay, .card { word-wrap: break-word; }

/* Piccoli dispositivi estremi: fallback se necessario */
@media (max-width: 340px) {
  body { font-size: 20px; } /* tutela device ultra-small */
  #navbar { padding: 0.6rem; }
  #titoloNavbar { font-size: clamp(18px, 6vw, 26px); }
}

/* ---------- Override finale: ridimensionamenti mirati ---------- */

/* Limito larghezza overlay per evitare testo troppo grande su hero */
#heroes .overlay,
#campagna-titolo-container .overlay,
#heroesPG .overlay,
#heroesGlossario .overlay {
  max-width: 720px;          /* contenitore più stretto */
  padding: 18px 24px;        /* padding leggermente ridotto */
}

/* Titoli nelle copertine: meno aggressivi rispetto alla base */
#heroes h2,
#campagna-titolo-container h1,
#heroesPG h2,
#heroesGlossario h2 {
  /* minimo più basso, crescita più dolce, massimo contenuto */
  font-size: clamp(20px, 4.2vw, 32px) !important;
  line-height: 1.2;
  margin-bottom: 10px;
}

/* Paragrafi nelle copertine: leggibili ma non enormi */
#heroes p,
#campagna-titolo-container p,
#heroesPG p,
#heroesGlossario p {
  font-size: clamp(14px, 3.6vw, 18px) !important;
  line-height: 1.5;
  margin: 0.4em 0;
}

/* Navbar: testo link e titolo più contenuti su mobile/desktop */
.navbar-nav .nav-link {
  font-size: clamp(15px, 3.2vw, 18px) !important;
  padding: 0.35rem 0.6rem;
}

/* Titolo navbar leggermente ridotto rispetto al resto */
#titoloNavbar {
  font-size: clamp(18px, 3.8vw, 24px) !important;
  line-height: 1;
}

/* Bottone menu (hamburger / toggler) più compatto */
.navbar-toggler,
.navbar-toggler:focus,
.navbar-toggler:active {
  padding: 0.35rem 0.5rem !important;
  font-size: clamp(14px, 3.2vw, 18px) !important;
  line-height: 1 !important;
}

/* Se il bottone è custom (es. #login-container button) */
#login-container button {
  padding: 0.5rem 0.8rem !important;
  font-size: clamp(14px, 3.2vw, 18px) !important;
}

/* Per smartphone molto piccoli: ulteriore riduzione per evitare overflow */
@media (max-width: 420px) {
  #heroes .overlay,
  #campagna-titolo-container .overlay,
  #heroesGlossario .overlay {
    max-width: 92%;
    padding: 14px 16px;
  }

  #heroes h2,
  #campagna-titolo-container h1,
  #heroesPG h2,
  #heroesGlossario h2 {
    font-size: clamp(18px, 5.2vw, 26px) !important;
  }

  #heroes p,
  #campagna-titolo-container p,
  #heroesPG p,
  #heroesGlossario p {
    font-size: clamp(15px, 4.2vw, 16px) !important;
  }

  .navbar-nav .nav-link {
    font-size: clamp(14px, 4.2vw, 16px) !important;
  }

  #titoloNavbar { font-size: clamp(16px, 5vw, 22px) !important; }
  .navbar-toggler { padding: 0.25rem 0.4rem !important; }
}

